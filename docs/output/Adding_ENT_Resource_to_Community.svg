<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="746px" preserveAspectRatio="none" style="width:1875px;height:746px;background:#FFFFFF;" version="1.1" viewBox="0 0 1875 746" width="1875px" zoomAndPan="magnify"><defs/><g><g><title>ResourceController</title><rect fill="#FFFFFF" height="506.9238" style="stroke:#181818;stroke-width:1;" width="10" x="382.4292" y="148.1094"/></g><g><title>ResourceService</title><rect fill="#FFFFFF" height="477.6133" style="stroke:#181818;stroke-width:1;" width="10" x="668.4585" y="177.4199"/></g><g><title>MessageBroker</title><rect fill="#FFFFFF" height="154.5527" style="stroke:#181818;stroke-width:1;" width="10" x="1123.7925" y="265.3516"/></g><g><title>ApplicationShareListener</title><rect fill="#FFFFFF" height="71.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1442.3599" y="294.6621"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1819.3237" y="206.7305"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1819.3237" y="552.1016"/></g><rect fill="none" height="266.75" style="stroke:#000000;stroke-width:1.5;" width="1849.6563" x="19" y="381.2832"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="583.5449" width="8" x="43.1826" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="81.4883" y2="665.0332"/></g><g><title>ResourceController</title><rect fill="#000000" fill-opacity="0.00000" height="583.5449" width="8" x="383.4292" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="386.4604" x2="386.4604" y1="81.4883" y2="665.0332"/></g><g><title>ResourceService</title><rect fill="#000000" fill-opacity="0.00000" height="583.5449" width="8" x="669.4585" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="672.9043" x2="672.9043" y1="81.4883" y2="665.0332"/></g><g><title>MessageBroker</title><rect fill="#000000" fill-opacity="0.00000" height="583.5449" width="8" x="1124.7925" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1128.5503" x2="1128.5503" y1="81.4883" y2="665.0332"/></g><g><title>ApplicationShareListener</title><rect fill="#000000" fill-opacity="0.00000" height="583.5449" width="8" x="1443.3599" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1447.2402" x2="1447.2402" y1="81.4883" y2="665.0332"/></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="583.5449" width="8" x="1820.3237" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1823.9912" x2="1823.9912" y1="81.4883" y2="665.0332"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="29" y="78.5352">User</text><ellipse cx="47.1826" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.1826,21.5 L47.1826,48.5 M34.1826,29.5 L60.1826,29.5 M47.1826,48.5 L34.1826,63.5 M47.1826,48.5 L60.1826,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="29" y="677.5684">User</text><ellipse cx="47.1826" cy="689.0215" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M47.1826,697.0215 L47.1826,724.0215 M34.1826,705.0215 L60.1826,705.0215 M47.1826,724.0215 L34.1826,739.0215 M47.1826,724.0215 L60.1826,739.0215" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="controller"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.9375" x="315.4604" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.9375" x="322.4604" y="70.5352">ResourceController</text></g><g class="participant participant-tail" data-participant="controller"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.9375" x="315.4604" y="664.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.9375" x="322.4604" y="684.5684">ResourceController</text></g><g class="participant participant-head" data-participant="service"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1084" x="611.9043" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1084" x="618.9043" y="70.5352">ResourceService</text></g><g class="participant participant-tail" data-participant="service"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.1084" x="611.9043" y="664.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1084" x="618.9043" y="684.5684">ResourceService</text></g><g class="participant participant-head" data-participant="broker"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.4844" x="1070.5503" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.4844" x="1077.5503" y="70.5352">MessageBroker</text></g><g class="participant participant-tail" data-participant="broker"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.4844" x="1070.5503" y="664.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.4844" x="1077.5503" y="684.5684">MessageBroker</text></g><g class="participant participant-head" data-participant="appListener"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.2393" x="1356.2402" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.2393" x="1363.2402" y="70.5352">ApplicationShareListener</text></g><g class="participant participant-tail" data-participant="appListener"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.2393" x="1356.2402" y="664.0332"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.2393" x="1363.2402" y="684.5684">ApplicationShareListener</text></g><g class="participant participant-head" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.665" x="1789.9912" y="78.5352">Database</text><path d="M1806.3237,29 C1806.3237,19 1824.3237,19 1824.3237,19 C1824.3237,19 1842.3237,19 1842.3237,29 L1842.3237,55 C1842.3237,65 1824.3237,65 1824.3237,65 C1824.3237,65 1806.3237,65 1806.3237,55 L1806.3237,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1806.3237,29 C1806.3237,39 1824.3237,39 1824.3237,39 C1824.3237,39 1842.3237,39 1842.3237,29" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="db"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.665" x="1789.9912" y="677.5684">Database</text><path d="M1806.3237,690.5215 C1806.3237,680.5215 1824.3237,680.5215 1824.3237,680.5215 C1824.3237,680.5215 1842.3237,680.5215 1842.3237,690.5215 L1842.3237,716.5215 C1842.3237,726.5215 1824.3237,726.5215 1824.3237,726.5215 C1824.3237,726.5215 1806.3237,726.5215 1806.3237,716.5215 L1806.3237,690.5215" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1806.3237,690.5215 C1806.3237,700.5215 1824.3237,700.5215 1824.3237,700.5215 C1824.3237,700.5215 1842.3237,700.5215 1842.3237,690.5215" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g><title>ResourceController</title><rect fill="#FFFFFF" height="506.9238" style="stroke:#181818;stroke-width:1;" width="10" x="382.4292" y="148.1094"/></g><g><title>ResourceService</title><rect fill="#FFFFFF" height="477.6133" style="stroke:#181818;stroke-width:1;" width="10" x="668.4585" y="177.4199"/></g><g><title>MessageBroker</title><rect fill="#FFFFFF" height="154.5527" style="stroke:#181818;stroke-width:1;" width="10" x="1123.7925" y="265.3516"/></g><g><title>ApplicationShareListener</title><rect fill="#FFFFFF" height="71.6211" style="stroke:#181818;stroke-width:1;" width="10" x="1442.3599" y="294.6621"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1819.3237" y="206.7305"/></g><g><title>Database</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1819.3237" y="552.1016"/></g><path d="M5,96.4883 L5,121.4883 L430,121.4883 L430,106.4883 L420,96.4883 L5,96.4883" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M420,96.4883 L420,106.4883 L430,106.4883 L420,96.4883" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.8882" x="101.2549" y="114.0566">User adds a resource to community</text><g class="message" data-participant-1="user" data-participant-2="controller"><polygon fill="#181818" points="370.4292,144.1094,380.4292,148.1094,370.4292,152.1094,374.4292,148.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="47.1826" x2="376.4292" y1="148.1094" y2="148.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316.2466" x="54.1826" y="143.3672">POST /api/communities/{communityId}/resources</text></g><g class="message" data-participant-1="controller" data-participant-2="service"><polygon fill="#181818" points="656.4585,173.4199,666.4585,177.4199,656.4585,181.4199,660.4585,177.4199" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.4292" x2="662.4585" y1="177.4199" y2="177.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.0293" x="399.4292" y="172.6777">addResource(communityId, resourceDto)</text></g><g class="message" data-participant-1="service" data-participant-2="db"><polygon fill="#181818" points="1807.3237,202.7305,1817.3237,206.7305,1807.3237,210.7305,1811.3237,206.7305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="678.4585" x2="1813.3237" y1="206.7305" y2="206.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.0591" x="685.4585" y="201.9883">saveResource(resource)</text></g><g class="message" data-participant-1="db" data-participant-2="service"><polygon fill="#181818" points="689.4585,232.041,679.4585,236.041,689.4585,240.041,685.4585,236.041" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="683.4585" x2="1823.3237" y1="236.041" y2="236.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.3901" x="695.4585" y="231.2988">resourceId</text></g><g class="message" data-participant-1="service" data-participant-2="broker"><polygon fill="#181818" points="1111.7925,261.3516,1121.7925,265.3516,1111.7925,269.3516,1115.7925,265.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="678.4585" x2="1117.7925" y1="265.3516" y2="265.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="426.334" x="685.4585" y="260.6094">addCommunityToShareGroups(communityId, resourceId, appName)</text></g><g class="message" data-participant-1="broker" data-participant-2="appListener"><polygon fill="#181818" points="1430.3599,290.6621,1440.3599,294.6621,1430.3599,298.6621,1434.3599,294.6621" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1133.7925" x2="1436.3599" y1="294.6621" y2="294.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.5674" x="1140.7925" y="289.9199">updateShareGroups(resourceId, communityId)</text></g><g class="message" data-participant-1="appListener" data-participant-2="appListener"><line style="stroke:#181818;stroke-width:1;" x1="1452.3599" x2="1494.3599" y1="323.9727" y2="323.9727"/><line style="stroke:#181818;stroke-width:1;" x1="1494.3599" x2="1494.3599" y1="323.9727" y2="336.9727"/><line style="stroke:#181818;stroke-width:1;" x1="1453.3599" x2="1494.3599" y1="336.9727" y2="336.9727"/><polygon fill="#181818" points="1463.3599,332.9727,1453.3599,336.9727,1463.3599,340.9727,1459.3599,336.9727" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342.9639" x="1459.3599" y="319.2305">addGroupToResourceShares(resourceId, communityId)</text></g><g class="message" data-participant-1="appListener" data-participant-2="broker"><polygon fill="#181818" points="1144.7925,362.2832,1134.7925,366.2832,1144.7925,370.2832,1140.7925,366.2832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1138.7925" x2="1446.3599" y1="366.2832" y2="366.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.9858" x="1150.7925" y="361.541">shareUpdateConfirmation</text></g><path d="M19,381.2832 L81.1387,381.2832 L81.1387,388.5938 L71.1387,398.5938 L19,398.5938 L19,381.2832" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.75" style="stroke:#000000;stroke-width:1.5;" width="1849.6563" x="19" y="381.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="34" y="394.8516">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="145.3311" x="96.1387" y="393.918">[successful share update]</text><g class="message" data-participant-1="broker" data-participant-2="service"><polygon fill="#181818" points="689.4585,415.9043,679.4585,419.9043,689.4585,423.9043,685.4585,419.9043" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="683.4585" x2="1127.7925" y1="419.9043" y2="419.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.9751" x="695.4585" y="415.1621">shareUpdateSuccess</text></g><g class="message" data-participant-1="service" data-participant-2="controller"><polygon fill="#181818" points="403.4292,445.2148,393.4292,449.2148,403.4292,453.2148,399.4292,449.2148" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="397.4292" x2="667.4585" y1="449.2148" y2="449.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.6577" x="409.4292" y="444.4727">resourceResponse</text></g><g class="message" data-participant-1="controller" data-participant-2="user"><polygon fill="#181818" points="58.1826,474.5254,48.1826,478.5254,58.1826,482.5254,54.1826,478.5254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="52.1826" x2="381.4292" y1="478.5254" y2="478.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.5879" x="64.1826" y="473.7832">201 Created (Resource added successfully)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="19" x2="1868.6563" y1="487.5254" y2="487.5254"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117.8472" x="24" y="498.1602">[share update failed]</text><g class="message" data-participant-1="broker" data-participant-2="service"><polygon fill="#181818" points="689.4585,518.791,679.4585,522.791,689.4585,526.791,685.4585,522.791" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="683.4585" x2="1127.7925" y1="522.791" y2="522.791"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.3862" x="695.4585" y="518.0488">shareUpdateFailure</text></g><g class="message" data-participant-1="service" data-participant-2="db"><polygon fill="#181818" points="1807.3237,548.1016,1817.3237,552.1016,1807.3237,556.1016,1811.3237,552.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="678.4585" x2="1813.3237" y1="552.1016" y2="552.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.7393" x="685.4585" y="547.3594">deleteResource(resourceId)</text></g><g class="message" data-participant-1="db" data-participant-2="service"><polygon fill="#181818" points="689.4585,577.4121,679.4585,581.4121,689.4585,585.4121,685.4585,581.4121" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="683.4585" x2="1823.3237" y1="581.4121" y2="581.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.9927" x="695.4585" y="576.6699">deletionConfirmation</text></g><g class="message" data-participant-1="service" data-participant-2="controller"><polygon fill="#181818" points="403.4292,606.7227,393.4292,610.7227,403.4292,614.7227,399.4292,610.7227" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="397.4292" x2="667.4585" y1="610.7227" y2="610.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.3809" x="409.4292" y="605.9805">errorResponse</text></g><g class="message" data-participant-1="controller" data-participant-2="user"><polygon fill="#181818" points="58.1826,636.0332,48.1826,640.0332,58.1826,644.0332,54.1826,640.0332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="52.1826" x2="381.4292" y1="640.0332" y2="640.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.0859" x="64.1826" y="635.291">500 Internal Server Error</text></g><!--SRC=[ZLHDRzim3BthLn0vjK2BP0DsyM70cdP3W7rXINy0RJ6RK4Ko93b0CUo_Jv8bXqwBRBcOSXuV7nyfOnUiWyMZ9xS0z334GFJeWkfKZoR0uWTvExYErjO4PxKkm6uwlWxVaZkgZZBMZ_4S-8Mynvzqv-nJeMnpE4Tzw7kjEWpAckqlTFHP-K2c963VrxEG6B15Jx2uBr66o5O8OmE1FPBBtTqmwGsanW6bZ6JWYdG8Dc8EXy6ey2n4IeBRzxEqxz-sErXYhvOLgCWlVqzP6_bdMUcym2we8qOHp3HnYXDviQX9Mgg5LupkPb9t7-prYR5QAqgGk6JRWCSZJJmrbUL5NsGBjxnoHMsaaCI1d7kSKPQvhkfsDe_caxD3xryNdU8uhQzuu2BAmCNuJFHieWqCVHmgSMvEn-emIhuIWXrUaCS6CkdEJXkR2bsgmTcO5JxbFMQjyOxibJlaTUKcpbNf07xeucBu_Q37zDAhWFYhRl3Pi1hRCJL3MOdYPNexZUjiQMjdiU7U6ZzMusiOyMdP6tYxUWDhHv5NmbNr9raMpoVf-lbQ2DBnpl4UO8zAa_oVLZv6vE3eGYlpViRLbgGfl5pkDAA4vfkRYS_MFAV7-SncTQQWf5vqavopxjzMlbkjO6C2EOCQqaSn_lkGKWKPAVYIrAlCNh7lnLy0]--></g></svg>